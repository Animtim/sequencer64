Bugs and Upgrade Ideas
Chris Ahlstrom
2015-10-27 to 2015-11-09

In no particular order...

-  Would be nice to be able to Ctrl-Home, Ctrl-End, Page Up, and Page Down
   in the Song Editor.
-  We now have the same file imported twice, into screen-set 1 and screen-set
   2.  Now can we have --bus n do n and n+1 (each next screen-set goes to the
   next buss?
-  Sometimes the editing of event values in the event data section
   will not work. The workaround is to do a Ctrl-A, and the click in
   the roll to deselect the selection; that makes the event value
   editing work again.
-  The pattern right-click Cut menu entry does not seem to work.
   The loop or pattern remains in place.  Is this actually meant to
   cut selected events?
-  While one is typing in the name of the set in this field, the
   keystrokes will affect the panel window, causing playback to
   start and pattern boxes to be toggled!
-  While one is typing in the number of the set in the Set number field,
   the keystrokes will affect the panel window, causing playback to
   start and pattern boxes to be toggled!
-  Why is the very first, empty sequence, missing its bottom row of numbers
   (except for the ui hot-key).
-  Make the GUI box-drawing and number options for configure.ac.
y  Can the perform object control all the is-dirty stuff?  All the GUIs use it!
-  The 750 x 500 for sequence and song editor size should be configurable in
   the "user" file.
-  Right click to edit a new sequence automatically shows it in perfnames,
   but not in mainwid.
-  How about a horizontal split for the perfroll?
   Or a second song editor view for reference?
   Or the ability to sort sequences in the song editor view?
-  Should mark empty tracks in the background-sequence selector, or just not
   show them.
-  Create a new sequence and add some notes.  It won't appear in the patterns
   window until you click in the patterns window, in the same slot where
   New was selected.
-  It would be nice if it were highlighted somehow, maybe cyan or dark grey or
   some color that contrasts a little with the default background color that it
   uses.
-  Add a number to the slot when empty, for clarity..
-  You also have to dick around in the song editor to get a new pattern to
   appear.
-  The display of the END marker is missing in the seqroll for a time signature
   of 7/4 and a length of 8 bars.
-  That 7/8:8 sequence, when draw-clicked into the song editor, takes up 14
   measures!!!  A 4/4 sequence takes up 1.
-  Create a long note and a short note.  Select the shorter note so it is
   orange.  Drag it over to the middle of the longer note.  Orange will
   cover the length of the short note, plus bleed over to the right to the end
   of the longer note.  Other minor issues with overlapping notes.
   Can get notes chopped and resized!
-  Could use a small view of a sequence, or at least the overall song,
   to see where you are in it.
-  Sometimes the editing of event values in the event data section
   will not work. The workaround is to do a Ctrl-A, and the click in
   the roll to deselect the selection; that makes the event value
   editing work again.
-  The pattern right-click Cut menu entry does not seem to work.
   The loop or pattern remains in place.  Is this actually meant to
   cut selected events?
-  While one is typing in the name of the set in this field, the
   keystrokes will affect the panel window, causing playback to
   start and pattern boxes to be toggled!
-  While one is typing in the number of the set in the Set number field,
   the keystrokes will affect the panel window, causing playback to
   start and pattern boxes to be toggled!
-  In midibus, make the buss name variable, instead of hard-wired to "seq24".
   It should be an optional command-line option, and default to "Seq64".
   And in the same module, function init_in() should use it as well.
   Like legacy mode, using a link named "seq24" to run the app should
   also change this name to seq24, as should --legacy itself!
   Also init_in_sub().
-  --manual_alsa_ports on the command line does NOT override the "rc"
   configuration file setting!
-  --manual_alsa_ports, etc., should be --manual-alsa_ports.
-  Can we provide a way to move a note a tiny amount without changing the beat
   size.
-  Would be nice to have a PAUSE button and PAUSE feature.
-  Ctrl-Z for data/event doesn't work unless the piano roll has the focus.
   Worth worrying about?
-  If POSSIBLE, avoid loading the "user" configuration file, or at least
   parts of it, when "manual-alsa-ports" is set to "1".
   -  ACTUALLY, THIS SEEMS TO BE WORKING PARTLY: the right busses are shown,
      but the sequencer64.usr file controllers and channels are still shown.
   -  Also what happens is that, if manual-alsa-ports is false, and the "user"
      file has entries, but fewer entries than what the system provides by
      default, then the additional system entries are visible.  NOT SURE IF
      THIS IS A BUG, A FEATURE, or A WARNING TO THE USER.
-  Catch up with all the new options by making sure they are available
   from the "rc" or "user" configuration file, and even the Options menu,
   if possible.
-  WEIRD!  Opening the File / Options / MIDI Input tab with "manual alsa"
   set to true, the port shown is "[1] seq24 1", not the  "[0] seq24 0"
   that I expected.  However, check this out:

   % arecordmidi -l
    Port    Client name                      Port name
    14:0    Midi Through                     Midi Through Port-0
   129:0    seq24                            [1] seq24 1
   129:1    seq24                            [2] seq24 2
   129:2    seq24                            [3] seq24 3
   129:3    seq24                            [4] seq24 4
   129:4    seq24                            [5] seq24 5
   129:5    seq24                            [6] seq24 6
   129:6    seq24                            [7] seq24 7
   129:7    seq24                            [8] seq24 8
   129:8    seq24                            [9] seq24 9
   129:9    seq24                            [10] seq24 10
   129:10   seq24                            [11] seq24 11
   129:11   seq24                            [12] seq24 12
   129:12   seq24                            [13] seq24 13
   129:13   seq24                            [14] seq24 14
   129:14   seq24                            [15] seq24 15
   129:15   seq24                            [16] seq24 16

-  Document that right-click on pattern editor's left and right scrollbar arrows
   act like Home and End for the seqroll.
-  Provide an "infinite" pattern that will not repeat (unless specified
   multiple times in the performance editor).
   "Infinite" sequences, aka a "track" as opposed to a sequence.
   Or, perhaps the track can be set to any length (add 128 and 256
   to the list???), but be marked as a one-shot timer, set to inactive
   once it is done, never to sound again until the next playback.
-  Support for the Non Session Manager.
-  Muting in mainwid or perfnames should be reflected in both views.
-  Extra lines appearing in perfnames/perfroll when starting playback in
   perfroll.
-  Anyway to double-click a pattern to edit, without selecting it?
   Or by holding the Shift key or Mod4 key with the letter?
-  Moving a pattern doesn't turn on any dirty bit, to allow an opportunity for
   saving.  This is a legacy bug.  Tighten up the is-dirty handling for all
   dialogs.
-  Selecting note events is iffy, more so than in legacy.
x  Would be nice to be able move selected notes in the seqroll using
   the arrow keys, in one-key and one-snap resoltion increments.
   See seq24seqroll.cpp, line 305.  Done.  Added keys for
   paint mode (p, Shift-P), left, right, down, and up, enabled if any notes
   are selected.  Still need to figure out what left, right, and home do
   otherwise, needs some graphical feedback.
-  Would be nice if ctrl-arrow or some other key could shorten or lengthen the
   note by very small increments.
-  Would be nice if shift-left-click would deselect only the one note clicked
   on.
-  Would be nice to have the sequence editors and performance editor scroll to
   keep the progress bar in view.
-  Would be nice to show the current time/tick/measure/bar in the tune as
   it plays.
-  Would be nice to show the current note/time/tick/measure/bar in sequence
   editor and performance editor windows.
-  Stop progress bar when pattern not playing in performance editor.
-  New stuff to implement in all relevant modules:
   -  Use of is_channel_msg(), is_one_byte_msg(), is_two_byte_msg()
   -  The new variants of the SEQ64_CLICK_xxxxx macros.
-  Get variable PPQN support fully working!
-  Offload the scale functionality to a new "scale" class.
-  Update maintime to support use of the the current beat-width, instead of
   using 4 all the time.
-  Investigate adding wrappers for draw_drawable().  (Done for the most common
   use case).
-  Selecting some notes of the same value, and trying to elongate or shrink
   them can make a note of "infinite" length.
-  When closing a file, either need to blank out or close any pattern-editor
   windows and the performance editor; something like that.
-  Add one or two digits to the size of the "Sequence length in bars" field, at
   the expense of its pixmap button.  Add an "infinite" option to that value.
-  Finish adding elements to the "user" configuration file.
-  Using SEQ64_ key and event macros instead of GDK_ key and event macros.

comparison between ‘enum GdkEventType’ and
‘enum seq 64::seq_event_type_t’
     if (a_p0->type == SEQ64_KEY_PRESS)

comparison between ‘enum GdkScrollDirection’ and
‘enum seq64::seq_scroll_direction_t’ [-Wenum-compare]
     if (a_ev->direction == SEQ64_SCROLL_UP)

comparison between ‘enum GdkScrollDirection’ and
‘e$um seq64::seq_scroll_direction_t’
     else if (a_ev->direction == SEQ64_SCROLL_DOWN)

draw_drawable( gc , src , xsrc , ysrc , xdest , ydest , width , height ):

-  Drawable->draw_drawable(GC, Pixmap, x, y, x0, y0, fontw, fonth)
-  Drawable->draw_drawable(m_gc, Drawable, x, y, x0, y0, fontw, fonth)
-  Drawable->draw_drawable(m_gc, Pixmap, x, y, x0, y0, fontw, fonth)
-  Drawable->draw_drawable(m_gc, m_background, x, y, x0, y0, fontw, fonth)
x  m_window->draw_drawable(m_gc, m_pixmap,  ...)

-  Initiatives from other projects ("-" means "not done (yet)", "y" means
   "partially done", "x" means done, "0" means "will not do"):
   0  Porting to BSD:         https://github.com/vext01/seq24
         Obviously a very old fork of seq24, with a lot of diffs from 0.9.2.
   y  AUR archive files:      https://github.com/aur-archive/seq24
   x  freddix patches:        https://github.com/freddix/seq24
   x  pld-linux patches:      https://github.com/pld-linux/seq24
   x  OpenMandriva patches:   https://github.com/OpenMandrivaAssociation/seq24
   0  Launchpad mapper:       https://github.com/Excds/seq24-launchpad-mapper
   0  Fork of seq24:          https://github.com/orlammd/SC_seq24
         An apparent odd mix of versions, and some French cusses.
   0  git-ingore, license:    https://github.com/franticspider/seq24plus
   0  Basic inspiration:      https://github.com/analoq/seq
   0  In-browser seq24:       https://github.com/briandunn/seq25
   0  One-up of seq25:        https://github.com/jgdavey/seq26
   0  Ruby implementation:    https://github.com/chriserin/seq27
   0  Song-editing emph:      https://github.com/sbrauer/seq42
         Another old fork, lacking mainwid and perfedit, but has a couple of
         nice ideas to examine.

Notes from around the Web:

   I forgotten instructions of use. 'p' to activate paint, 'P' (shift p) to
   deactivate.  Remember to "select" the piano roll instead of writing on other
   controls, like the name edit. that's a little tricky but you will overcome
   that.  ivan

seqroll.cpp:

>               m_seq->remove_marked();
>               ret = true;
>           }
> +         if ( a_p0->keyval ==  GDK_p ){
> +             set_adding( true );
> +             ret = true;
> +         }
> +         if ( a_p0->keyval ==  GDK_P ){
> +             set_adding( false );
> +             ret = true;
> +         }
>   
>           if ( a_p0->state & GDK_CONTROL_MASK ){

   We've now incorporated this feature (2015-11-01).


